@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model IEnumerable<Tutorail_3_make_Model.Models.Web>;

<div>
    <h1 class="text-center"> Website บันทึกไว้</h1>
    <form method="POST" asp-controller="Web" asp-action="Find">
        <div class="row form-group">
            <input type="text" class="col form-control" name="web" />
            <button type="submit" class="col-2 m-lg-2 btn btn-success ">ค้นหา</button>
        </div>
    </form>

    @if (Model.Count() > 0)
    {
        <table class="table">
            <thead>
                <tr>
                    <th></th>
                    <th>รหัสลำดับ</th>
                    <th>ชื่อเว็ปไซต์</th>
                    <th>ลิงค์เว็ปไซต์</th>
                    <th>ตั้งแต่</th>
                    <th>อัพเดตล่าสุด</th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var web in Model)
                {
                    @if (web.create_at.Date == DateTime.Now.Date)
                    {
                        <tr>
                            <td class="text-danger">New</td>
                            <td>@web.Id</td>
                            <td>@web.nameLink</td>
                            <td>@web.link</td>
                            <td>@web.create_at</td>
                            <td>@web.update_at</td>
                            <td><a class="btn btn-warning" asp-controller="Web" asp-action="Edit" asp-route-id="@web.Id">แก้ไข</a></td>
                            <td>
                                <a class="btn btn-danger"
                                   asp-controller="Web"
                                   asp-action="Delete"
                                   asp-route-id="@web.Id"
                                   onclick="return confirm('ยืนยันการลบข้อมูล @web.nameLink ใช่ไหม?')">
                                    ลบ
                                </a>
                            </td>
                            <td><a class="btn btn-info" href="@web.link" target="_blank">เข้าสู่เว็ปไซต์</a></td>
                        </tr>
                    }
                }
                @foreach (var web in Model)
                {
                    @if (web.create_at.Date != DateTime.Now.Date)
                    {
                        <tr>
                            <td class="text-danger"></td>
                            <td>@web.Id</td>
                            <td>@web.nameLink</td>
                            <td>@web.link</td>
                            <td>@web.create_at</td>
                            <td>@web.update_at</td>
                            <td><a class="btn btn-warning" asp-controller="Web" asp-action="Edit" asp-route-id="@web.Id">แก้ไข</a></td>
                            <td>
                                <a class="btn btn-danger"
                                   asp-controller="Web"
                                   asp-action="Delete"
                                   asp-route-id="@web.Id"
                                   onclick="return confirm('ยืนยันการลบข้อมูล @web.nameLink ใช่ไหม?')">
                                    ลบ
                                </a>
                            </td>
                            <td><a class="btn btn-info" href="@web.link" target="_blank">เข้าสู่เว็ปไซต์</a></td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    }
    else
    {
        <p class="text-lg-center"> ไม่มีข้อมูลให้แสดง ณ ขณะนี้</p>
    }
</div>

